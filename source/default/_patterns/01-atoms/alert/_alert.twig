{#
/**
 * @file Alert!
 *
 * Available variables:
 * - type: [string] status | warning | error: The type of error to display.
 * - alert_degree: [string] (optional) The degree of error. Set via Type for Accessibility.
 * - alert_title: [string] The heading value of the Alert.
 * - alert_primary: [string] The paragraph value of the Alert.
 * - alert_secondary: [string] (optional) The value of the footer.
 *
 */
#}
{% set status_classes = {
  status: 'bg-green-200',
  error: 'bg-yellow-200',
  warning: 'bg-red-200',
  info: 'bg-blue-200'
} %}

{% set alert_classes =
  [
    'mb-0',
    'alert',
    status_classes[type],
    'alert-dismissible',
    'fade',
    'show',
    alert_other_classes
  ]
    |sort
    |join(' ')
    |trim
%}
{% set alert_degree = type == 'error' ? 'role=alert' : 'aria-live=polite' %}
<div class="{{ alert_classes }}" {{ alert_degree }}>
  {% block alert_header %}
    <a href="#"
      role="button"
      class="absolute pin-t pin-b pin-r px-4 py-3"
      data-dismiss="relative px-3 py-3 mb-4 border rounded"
      aria-label="{{ 'Close'|t }}">
      <span aria-hidden="true">&times;</span>
    </a>
    {% if alert_title %}
      <h4 class="">
        {{ alert_title }}
      </h4>
    {% endif %}
  {% endblock %}
  {% block alert_content %}
    <p>
      {{ alert_primary }}
    </p>
  {% endblock %}
  {% block alert_footer %}
    {% if alert_secondary %}
      <hr />
      <p class="mb-0">
        {{ alert_secondary }}
      </p>
    {% endif %}
  {% endblock %}
</div>
